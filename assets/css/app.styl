@import 'nib'
@import '../../node_modules/jeet/stylus/jeet'
@import '_mixins.styl'
@import 'normalize.css'
@import '../oembed/oembed.css'

// Media queries
$desktop = 1600px
$laptop = 1100px
$tablet = 768px
$mobile = 400px

// Colors
$primary ?= #fff
$secondary ?= rgb(202,204,201)
$back ?= rgb(41,41,41)

// Metrics
$padding = 25px

// CSS Reset
global-reset()

webfont('AG', 'AG', true, 'normal')
webfont('AGI', 'AGI', true, 'normal')

@keyframes fadeIn {
  from {
    opacity 0
  }
  to {
    opacity 1
  }
}

@keyframes fadeOut {
  from {
    opacity 1
  }
  to {
    opacity 0
  }
}

@keyframes fadeInUp {
  0% {
    opacity 0
    transform(translateY(30px))
  }
  100% {
    opacity 1
    transform(none)
  }
}

@keyframes backFadeIn {
  from {
    opacity 0
    transform(scale(1.05))
  }
  to {
    opacity 0.2
    transform(none)
  }
}
	
.animated
	vendor(animation-direction,normal)
	vendor(animation-fill-mode,both)

.animated.container.fadeIn
	opacity 0
	vendor(animation, fadeIn 2s forwards ease)

.animated.container.fadeInUp.first
	opacity 0
	vendor(animation, fadeInUp 600ms forwards ease)
	vendor(animation-delay, 0.8s)

.animated.container.fadeInUp.second
	opacity 0
	vendor(animation, fadeInUp 600ms forwards ease)
	vendor(animation-delay, 1s)
	
.animated.container.fadeInUp.third, .animated.fadeInUp.third
	opacity 0
	vendor(animation, fadeInUp 600ms forwards ease)
	vendor(animation-delay, 1.3s)

.animated.backFadeIn
	vendor(animation, backFadeIn 1.8s forwards ease)

&.leaving
	#wrapper
		vendor(animation, fadeOut 600ms forwards ease)

body,html
	width 100%
	height 100%
	-webkit-text-size-adjust 100%
	font-family 'AG', 'Times New Roman', serif
	background $back url('../images/back-texture.jpg') center repeat
	background-size 50% 100%
	color $primary
	text-rendering optimizeLegibility
	font-smoothing()

html
	font-size 62.5%

body
	font-size 1em
	

::selection
	background $secondary
	
::-moz-selection
	background $secondary

*
	hideselect()

a, a:hover, a:visited, a:focus
	color inherit
	text-decoration none
	cursor pointer

[data-target] h2
	transition(transform, 800ms)
	transform(translateY(0))

[data-target] h2:hover
	transform(translateY(-10px))

em
	font-family 'AGI'

h1
	font-size 3.2vw
	margin-bottom 1em
	+below($tablet)
		font-size 4.5em

h2
	font-size 5.5em
	+below($tablet)
		font-size 4.5em

h3
	text-transform uppercase
	font-size 1.5em
	margin-bottom 1em
	+below($laptop)
		font-size 1.3em
	+below($tablet)
		font-size 1em
		
p
	font-size 2.6vw
	margin-bottom 1em
	line-height 1.1em
	+below($tablet)
		font-size 2.6em

.btn
	transition()
	border 1px solid rgba(255,255,255,0.4)
	padding .8em .8em .6em

.btn:hover
	color $back
	background rgba(255,255,255,0.8)

section.contact
	p
		font-size 2.3em

p:last-child
	margin-bottom 0
	
header
	transition(opacity, 2s)
	visibility hidden
	opacity 0
	position absolute
	top 0
	left 0
	width 100%
	z-index 1000
	.inner
		padding $padding
		flexbox()
		justify-content space-between
		align-items center
	.logo
		span(1.3/12)
		max-width 150px
		+below($tablet)
			width 125px

body.page header
	visibility visible
	opacity 1

nav.languages
	text-transform uppercase
	ul 
		li, h3
			display inline-block
		h3::after
			content '|'
			margin 0 1em
			display inline-block
		li:last-child h3::after
			content ''
			margin 0
			display none

section.content
	position relative
	height 100vh
	flexbox()
	flex-direction column
	justify-content center
	align-items center
	z-index 10
	text-align center
	+below($tablet)
		display block
		overflow-y scroll
		padding-top 30%
		height auto
		min-height 100vh
	.pages
		flexbox()
		justify-content space-around
		align-items center
		+below($tablet)
			height 50vh
			flex-direction column
			margin-bottom 20%
		.page-title
			span(1/3)
			+below($tablet)
				stack()
			h2
				padding 1em 0
				+below($tablet)
					padding .2em 0
	.partners
		+above($tablet)
			position fixed
			bottom $padding
			left 12.5%
		ul#partners
			.partner
				display inline-block
				//transition(width)
				width 10%
				margin 0 10px
				position relative
				vertical-align middle
				+below($tablet)
					display block
					width 50%
					text-align center
					margin 20px auto
				img
					display block
					max-width 100%
					max-height 100%
			.partner:hover
				//width 20%
	.close-btn
		position absolute
		bottom ($padding*2)
		left 50%
		margin-left (-35px/2)
		width 35px
		height 35px
		+below($tablet)
			position fixed
		svg
			width 100%
			height 100%

.background
	position fixed
	top 0
	left 0
	width 100vw
	height 100vh
	background-size cover
	background-position center
	mix-blend-mode lighten
	opacity 0.2
	z-index 1
	.vignet
		width 100%
		height 100%
		background -moz-radial-gradient(center, ellipse cover, rgba(0,0,0,0) 50%, rgba(0,0,0,1) 90%)
		background -webkit-radial-gradient(center, ellipse cover, rgba(0,0,0,0) 50%,rgba(0,0,0,1) 90%)
		background radial-gradient(ellipse at center, rgba(0,0,0,0) 50%,rgba(0,0,0,1) 90%)

.loader
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	background $back
	//background $primary url('../images/loader.gif') center no-repeat
	background-size 15px
	z-index 10000

#wrapper
	width 100%
	height 100%

.container
	width 75%
	margin 0 auto
	+below($tablet)
		width 92%

section.langselect
	.container
		.logo
			display block
			width 43%
			margin 0 auto
			margin-top -2%
			margin-bottom 35px
			+below($tablet)
				width 100%
				margin-bottom 20px